<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Wed Dec 08 17:36:47 EST 1999 -->
<TITLE>
Moksa Prolog - Java API: Class  Wam
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Wam.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/svincent/moksa/VariableCollector.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/svincent/moksa/Wam.ChoicePoint.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Wam.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;<A HREF="#inner_class_summary">INNER</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.svincent.moksa</FONT>
<BR>
Class  Wam</H2>
<PRE>
java.lang.Object
  |
  +--<A HREF="../../../com/svincent/moksa/WamObject.html">com.svincent.moksa.WamObject</A>
        |
        +--<B>com.svincent.moksa.Wam</B>
</PRE>
<HR>
<DL>
<DT>public class <B>Wam</B><DT>extends <A HREF="../../../com/svincent/moksa/WamObject.html">WamObject</A></DL>

<P>
<p>An implementation of a Warren's Abstract Machine, as documented
 in <em>Warren's Abstract Machine: a Tutorial Reconstruction</em>,
 by Hassan Ait-Kaci. </p>

 <p>Some variations may exist between my implementation and Hassan's
 description. </p>

 <p>There are a number of instructions in Warren's machine that we
 don't implement here.  In particular, since we are representing
 Prolog terms as Java compoundTerms, and have no heap, most of the
 instructions described in chapter 2 (up until section 2.3) of
 Hassan's book are unneccesary.</p>

 <p>Most of them are replaced by <code>new</code> calls and calls to
 <code>PrologTerm.unify</code>. </p>
<P>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->

<A NAME="inner_class_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Inner Class Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.ChoicePoint.html">Wam.ChoicePoint</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Represents a choice point.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.ExceptionHandler.html">Wam.ExceptionHandler</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A registered exception handler for the current thread of
 execution.</TD>
</TR>
</TABLE>
&nbsp;
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/svincent/moksa/Continuation.html">Continuation</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.html#Fail">Fail</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A very common continuation</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.html#Wam(com.svincent.moksa.PrologEngine)">Wam</A></B>(<A HREF="../../../com/svincent/moksa/PrologEngine.html">PrologEngine</A>&nbsp;_engine)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.html#asserta(com.svincent.moksa.Rule)">asserta</A></B>(<A HREF="../../../com/svincent/moksa/Rule.html">Rule</A>&nbsp;rule)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a new alternative rule for the given name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.html#assertz(com.svincent.moksa.Rule)">assertz</A></B>(<A HREF="../../../com/svincent/moksa/Rule.html">Rule</A>&nbsp;rule)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a new alternative rule for the given name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.html#badparm(int, com.svincent.moksa.PrologTerm)">badparm</A></B>(int&nbsp;parmIdx,
        <A HREF="../../../com/svincent/moksa/PrologTerm.html">PrologTerm</A>&nbsp;desiredValue)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called when facts are processing their parameters.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/svincent/moksa/Continuation.html">Continuation</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.html#findExceptionHandler(com.svincent.moksa.PrologTerm)">findExceptionHandler</A></B>(<A HREF="../../../com/svincent/moksa/PrologTerm.html">PrologTerm</A>&nbsp;exception)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/svincent/moksa/Continuation.html">Continuation</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.html#getContinuation()">getContinuation</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the current continuation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/svincent/moksa/PrologEngine.html">PrologEngine</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.html#getEngine()">getEngine</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/svincent/moksa/PrologFactory.html">PrologFactory</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.html#getFactory()">getFactory</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/svincent/moksa/Io.html">Io</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.html#getIo()">getIo</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../com/svincent/moksa/Wam.ChoicePoint.html">Wam.ChoicePoint</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.html#getLastChoicepoint()">getLastChoicepoint</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieve the current trail pointer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/svincent/moksa/PrologTerm.html">PrologTerm</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.html#getRegister(int)">getRegister</A></B>(int&nbsp;idx)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the value of register 'idx'.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/svincent/moksa/Rule.html">Rule</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.html#getRule(java.lang.String)">getRule</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the first alternative rule for the given name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.html#getTimestamp()">getTimestamp</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieve a timestamp.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.html#getTrailPointer()">getTrailPointer</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieve the current trail pointer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.html#invoke(com.svincent.moksa.PrologTerm)">invoke</A></B>(<A HREF="../../../com/svincent/moksa/PrologTerm.html">PrologTerm</A>&nbsp;_goal)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoke a goal.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../com/svincent/moksa/Trailable.html">Trailable</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.html#popTrail()">popTrail</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.html#retryMeElse(com.svincent.moksa.Rule)">retryMeElse</A></B>(<A HREF="../../../com/svincent/moksa/Rule.html">Rule</A>&nbsp;next)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We just backtracked to the current choicepoint.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.html#setContinuation(com.svincent.moksa.Continuation)">setContinuation</A></B>(<A HREF="../../../com/svincent/moksa/Continuation.html">Continuation</A>&nbsp;_continuation)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the value of continuation register.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.html#setRegister(int, com.svincent.moksa.PrologTerm)">setRegister</A></B>(int&nbsp;idx,
            <A HREF="../../../com/svincent/moksa/PrologTerm.html">PrologTerm</A>&nbsp;v)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the value of register 'idx'.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.html#trail(com.svincent.moksa.Trailable)">trail</A></B>(<A HREF="../../../com/svincent/moksa/Trailable.html">Trailable</A>&nbsp;obj)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Places this object on the trail stack, marking it to be undone
 when the trail is unwound.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.html#trustMe()">trustMe</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We just backtracked to the last choicepoint.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.html#tryMeElse(com.svincent.moksa.Rule, int, com.svincent.moksa.Rule)">tryMeElse</A></B>(<A HREF="../../../com/svincent/moksa/Rule.html">Rule</A>&nbsp;rule,
          int&nbsp;arity,
          <A HREF="../../../com/svincent/moksa/Rule.html">Rule</A>&nbsp;next)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allocates a new choice point frame on the stack setting its
 next clause field to 'next'.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/svincent/moksa/Wam.html#unwindTrail()">unwindTrail</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unwinds the trail stack, which contains things that need to be
 undone when a choicepoint occurs.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_com.svincent.moksa.WamObject"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class com.svincent.moksa.<A HREF="../../../com/svincent/moksa/WamObject.html">WamObject</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../com/svincent/moksa/WamObject.html#tag()">tag</A>, 
<A HREF="../../../com/svincent/moksa/WamObject.html#tag(java.io.PrintWriter)">tag</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, 
equals, 
finalize, 
getClass, 
hashCode, 
notify, 
notifyAll, 
toString, 
wait, 
wait, 
wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="Fail"><!-- --></A><H3>
Fail</H3>
<PRE>
public <A HREF="../../../com/svincent/moksa/Continuation.html">Continuation</A> <B>Fail</B></PRE>
<DL>
<DD>A very common continuation</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="Wam(com.svincent.moksa.PrologEngine)"><!-- --></A><H3>
Wam</H3>
<PRE>
public <B>Wam</B>(<A HREF="../../../com/svincent/moksa/PrologEngine.html">PrologEngine</A>&nbsp;_engine)</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="getEngine()"><!-- --></A><H3>
getEngine</H3>
<PRE>
public <A HREF="../../../com/svincent/moksa/PrologEngine.html">PrologEngine</A> <B>getEngine</B>()</PRE>
<DL>
</DL>
<HR>

<A NAME="getFactory()"><!-- --></A><H3>
getFactory</H3>
<PRE>
public <A HREF="../../../com/svincent/moksa/PrologFactory.html">PrologFactory</A> <B>getFactory</B>()</PRE>
<DL>
</DL>
<HR>

<A NAME="getIo()"><!-- --></A><H3>
getIo</H3>
<PRE>
public <A HREF="../../../com/svincent/moksa/Io.html">Io</A> <B>getIo</B>()</PRE>
<DL>
</DL>
<HR>

<A NAME="getTimestamp()"><!-- --></A><H3>
getTimestamp</H3>
<PRE>
public long <B>getTimestamp</B>()</PRE>
<DL>
<DD>Retrieve a timestamp.  Note that this increments the timestamp.</DL>
<HR>

<A NAME="getContinuation()"><!-- --></A><H3>
getContinuation</H3>
<PRE>
public <A HREF="../../../com/svincent/moksa/Continuation.html">Continuation</A> <B>getContinuation</B>()</PRE>
<DL>
<DD>Get the current continuation.</DL>
<HR>

<A NAME="setContinuation(com.svincent.moksa.Continuation)"><!-- --></A><H3>
setContinuation</H3>
<PRE>
public void <B>setContinuation</B>(<A HREF="../../../com/svincent/moksa/Continuation.html">Continuation</A>&nbsp;_continuation)</PRE>
<DL>
<DD>Set the value of continuation register.</DL>
<HR>

<A NAME="getRegister(int)"><!-- --></A><H3>
getRegister</H3>
<PRE>
public <A HREF="../../../com/svincent/moksa/PrologTerm.html">PrologTerm</A> <B>getRegister</B>(int&nbsp;idx)</PRE>
<DL>
<DD>Get the value of register 'idx'.</DL>
<HR>

<A NAME="setRegister(int, com.svincent.moksa.PrologTerm)"><!-- --></A><H3>
setRegister</H3>
<PRE>
public void <B>setRegister</B>(int&nbsp;idx,
                        <A HREF="../../../com/svincent/moksa/PrologTerm.html">PrologTerm</A>&nbsp;v)</PRE>
<DL>
<DD>Set the value of register 'idx'.</DL>
<HR>

<A NAME="badparm(int, com.svincent.moksa.PrologTerm)"><!-- --></A><H3>
badparm</H3>
<PRE>
public boolean <B>badparm</B>(int&nbsp;parmIdx,
                       <A HREF="../../../com/svincent/moksa/PrologTerm.html">PrologTerm</A>&nbsp;desiredValue)
                throws <A HREF="../../../com/svincent/moksa/PrologException.html">PrologException</A></PRE>
<DL>
<DD>Called when facts are processing their parameters.<DD><DL>
<DT><B>Returns:</B><DD>true iff the parm is bad.</DL>
</DD>
</DL>
<HR>

<A NAME="getRule(java.lang.String)"><!-- --></A><H3>
getRule</H3>
<PRE>
public <A HREF="../../../com/svincent/moksa/Rule.html">Rule</A> <B>getRule</B>(java.lang.String&nbsp;name)</PRE>
<DL>
<DD>Get the first alternative rule for the given name.</DL>
<HR>

<A NAME="invoke(com.svincent.moksa.PrologTerm)"><!-- --></A><H3>
invoke</H3>
<PRE>
public boolean <B>invoke</B>(<A HREF="../../../com/svincent/moksa/PrologTerm.html">PrologTerm</A>&nbsp;_goal)
               throws <A HREF="../../../com/svincent/moksa/PrologException.html">PrologException</A></PRE>
<DL>
<DD>Invoke a goal.</DL>
<HR>

<A NAME="tryMeElse(com.svincent.moksa.Rule, int, com.svincent.moksa.Rule)"><!-- --></A><H3>
tryMeElse</H3>
<PRE>
public void <B>tryMeElse</B>(<A HREF="../../../com/svincent/moksa/Rule.html">Rule</A>&nbsp;rule,
                      int&nbsp;arity,
                      <A HREF="../../../com/svincent/moksa/Rule.html">Rule</A>&nbsp;next)</PRE>
<DL>
<DD><p>Allocates a new choice point frame on the stack setting its
 next clause field to 'next'. </p>

 <p>This should be called before the first clause of any
 multi-clause rule.  Subsequent clauses, except for the last
 clause, should call <code>retryMeElse</code>. </p>

 <p>The last clause should call <code>trustMe</code>. </p><DD><DL>
<DT><B>Parameters:</B><DD><CODE>arity</CODE> - the arity of the procedure offering alternatives.
 Needed so that the Wam knows how many argument registers to save.<DD><CODE>next</CODE> - a pointer to the next choicepoint continuation.<DT><B>See Also: </B><DD><A HREF="../../../com/svincent/moksa/Wam.html#retryMeElse(com.svincent.moksa.Rule)"><CODE>retryMeElse(Rule)</CODE></A>, 
<A HREF="../../../com/svincent/moksa/Wam.html#trustMe()"><CODE>trustMe()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="retryMeElse(com.svincent.moksa.Rule)"><!-- --></A><H3>
retryMeElse</H3>
<PRE>
public void <B>retryMeElse</B>(<A HREF="../../../com/svincent/moksa/Rule.html">Rule</A>&nbsp;next)</PRE>
<DL>
<DD><p>We just backtracked to the current choicepoint.  Setup the
 next possible choice. </p>

 <p>One way of thinking about this is: if there are N choicepoints
 (choice1..choiceN), then <code>retryMeElse</code> should be
 called before executing choice2 through choice(N-1). </p><DD><DL>
<DT><B>Parameters:</B><DD><CODE>arity</CODE> - the arity of the procedure offering alternatives.
 Needed so that the Wam knows how many argument registers to save.<DD><CODE>next</CODE> - a pointer to the next choicepoint continuation.<DT><B>See Also: </B><DD><A HREF="../../../com/svincent/moksa/Wam.html#tryMeElse(com.svincent.moksa.Rule, int, com.svincent.moksa.Rule)"><CODE>tryMeElse(Rule, int, Rule)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="trustMe()"><!-- --></A><H3>
trustMe</H3>
<PRE>
public void <B>trustMe</B>()</PRE>
<DL>
<DD><p>We just backtracked to the last choicepoint.  No more choices,
 so we've got to trust this fellow.</p><DD><DL>
<DT><B>See Also: </B><DD><A HREF="../../../com/svincent/moksa/Wam.html#tryMeElse(com.svincent.moksa.Rule, int, com.svincent.moksa.Rule)"><CODE>tryMeElse(Rule, int, Rule)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getLastChoicepoint()"><!-- --></A><H3>
getLastChoicepoint</H3>
<PRE>
protected <A HREF="../../../com/svincent/moksa/Wam.ChoicePoint.html">Wam.ChoicePoint</A> <B>getLastChoicepoint</B>()</PRE>
<DL>
<DD>Retrieve the current trail pointer. XXX empty?</DL>
<HR>

<A NAME="getTrailPointer()"><!-- --></A><H3>
getTrailPointer</H3>
<PRE>
protected int <B>getTrailPointer</B>()</PRE>
<DL>
<DD>Retrieve the current trail pointer.</DL>
<HR>

<A NAME="trail(com.svincent.moksa.Trailable)"><!-- --></A><H3>
trail</H3>
<PRE>
public void <B>trail</B>(<A HREF="../../../com/svincent/moksa/Trailable.html">Trailable</A>&nbsp;obj)</PRE>
<DL>
<DD>Places this object on the trail stack, marking it to be undone
 when the trail is unwound.</DL>
<HR>

<A NAME="unwindTrail()"><!-- --></A><H3>
unwindTrail</H3>
<PRE>
protected void <B>unwindTrail</B>()</PRE>
<DL>
<DD><p>Unwinds the trail stack, which contains things that need to be
 undone when a choicepoint occurs. </p>

 <p>This version of the method unwinds the trail to the last
 ChoicePoint. </p></DL>
<HR>

<A NAME="popTrail()"><!-- --></A><H3>
popTrail</H3>
<PRE>
public <A HREF="../../../com/svincent/moksa/Trailable.html">Trailable</A> <B>popTrail</B>()</PRE>
<DL>
</DL>
<HR>

<A NAME="findExceptionHandler(com.svincent.moksa.PrologTerm)"><!-- --></A><H3>
findExceptionHandler</H3>
<PRE>
public <A HREF="../../../com/svincent/moksa/Continuation.html">Continuation</A> <B>findExceptionHandler</B>(<A HREF="../../../com/svincent/moksa/PrologTerm.html">PrologTerm</A>&nbsp;exception)
                                  throws <A HREF="../../../com/svincent/moksa/PrologException.html">PrologException</A></PRE>
<DL>
</DL>
<HR>

<A NAME="asserta(com.svincent.moksa.Rule)"><!-- --></A><H3>
asserta</H3>
<PRE>
public void <B>asserta</B>(<A HREF="../../../com/svincent/moksa/Rule.html">Rule</A>&nbsp;rule)</PRE>
<DL>
<DD>Add a new alternative rule for the given name.</DL>
<HR>

<A NAME="assertz(com.svincent.moksa.Rule)"><!-- --></A><H3>
assertz</H3>
<PRE>
public void <B>assertz</B>(<A HREF="../../../com/svincent/moksa/Rule.html">Rule</A>&nbsp;rule)</PRE>
<DL>
<DD>Add a new alternative rule for the given name.</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Wam.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/svincent/moksa/VariableCollector.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/svincent/moksa/Wam.ChoicePoint.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Wam.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;<A HREF="#inner_class_summary">INNER</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<hr><p><em>This is documentation for Moksa Prolog, which can be found at <a href='http://www.svincent.com/moksa/'>http://www.svincent.com/moksa/</a></em></p>  <p><em>Copyright &copy; 1999 <a href='http://www.svincent.com/shawn/'>Shawn P. Vincent</a>.</em></p> <p><em>This program is free software; you can redistribute it and/or modify it under the terms of the <a href='http://www.gnu.org/copyleft/gpl.html'>GNU General Public License</a> as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</em></p>
</BODY>
</HTML>
